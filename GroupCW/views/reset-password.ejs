<!doctype html>
<html lang="en">

<%- include('header'); -%>

    <body>
        <div class="viewport-container">
            <div class="notification-container" id="notification-container">
            </div>
        </div>
        <div id="reset-password">
            <%- include('navbar'); -%>

                <section class="reset-password rounded shadowed bordered card" v-if="!submitted">
                    <span class="item1 logo">REHEARSAL</span>
                    <h2 class="item2 left-aligned">Reset Password</h2>
                    <p class="item3 right-aligned">or <a href="/sign-in">sign in</a></p>
                    <div class="item4">
                        <div class="input">
                            <span class="label">Email</span>
                            <div>
                                <span class="material-symbols-rounded">email</span>
                                <input type="text" v-model="email">
                            </div>
                        </div>
                        <p v-if="emailError" class="input-error error">
                            <span class="material-symbols-rounded">error</span>
                            <span id="sign-in-username-error">{{emailError}}</span>
                        </p>
                    </div>
                    <div class="item5 right-aligned" style="display: flex; flex-direction: column; gap: 1rem;">
                        <button  @click="resetPassword">Reset Password</button>
                        <i id="response-submission-spinner" v-if="sending">Submitting Request <span>
                            <span class="spinner material-symbols-rounded">cached</span>
                        </span></i>
                    </div>
                    
                </section>
                <section v-else>
                    <p>You will receive a temporary password in your inbox. Go to <a href="/sign-in">sign in</a></p>
                </section>

                </main>
        </div>

        <%- include('footer'); -%>

            <!-- Application Javascript -->
            <script defer src="/static/reset-password.js"></script>

    </body>

</html>